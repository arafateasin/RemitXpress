(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{490:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/transactions",function(){return s(4443)}])},4443:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(3576),a=s(7876),n=s(4232),l=s(553),i=s(8230),o=s.n(i),d=s(2964),c=s(4486);let x=()=>{let{data:e}=(0,l.useSession)(),[t,s]=(0,n.useState)("all"),[i,x]=(0,n.useState)(""),[m,u]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,d.P)((0,d.rJ)(c.db,"transactions"),(0,d.My)("timestamp","desc")),t=(0,d.aQ)(e,e=>{let t=[];e.forEach(e=>{t.push((0,r._)({id:e.id},e.data()))}),console.log("Loaded transactions from Firestore:",t),u(t),p(!1)},e=>{console.error("Error fetching transactions:",e),p(!1)});return()=>t()},[]);let g=m.filter(e=>{var s,r,a;let n=(null==(s=e.recipientName)?void 0:s.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.recipientEmail)?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null==(a=e.id)?void 0:a.toLowerCase().includes(i.toLowerCase())),l="all"===t||e.status===t;return n&&l});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(o(),{href:"/",className:"flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"R"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"RemitXpress"})]})})}),(0,a.jsx)("div",{className:"flex items-center space-x-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"}),(0,a.jsx)(o(),{href:"/send-money",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Send Money"}),(0,a.jsx)(o(),{href:"/transactions",className:"text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Transactions"}),(0,a.jsx)(o(),{href:"/wallet",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Wallet"}),(0,a.jsx)(o(),{href:"/settings",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Settings"}),(0,a.jsx)("button",{onClick:()=>(0,l.signOut)(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Sign Out"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{href:"/login",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign In"}),(0,a.jsx)(o(),{href:"/register",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2.5 rounded-lg hover:from-blue-600 hover:to-purple-700 text-sm font-medium transition-all shadow-lg",children:"Get Started"})]})})]})})}),(0,a.jsx)("div",{className:"py-12",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Transaction History"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"View all your money transfer transactions"})]}),(0,a.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Export CSV"})]})}),(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Transactions"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"failed",children:"Failed"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search transactions...",value:i,onChange:e=>x(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",g.length," of ",m.length," ","transactions"]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:6,className:"px-6 py-12 text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading transactions..."})]})}):0===g.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("p",{className:"mt-2 text-lg font-medium text-gray-900",children:"No transactions found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:0===m.length?"You haven't made any transactions yet.":"No transactions match your current filters."})]})})}):g.map(e=>{var t,s,r,n;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.purpose})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.recipientName||e.recipient}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.recipientEmail})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["$",(null==(t=e.amount)?void 0:t.toFixed(2))||"0.00"," ",e.currency]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Fee: $",(null==(s=e.fee)?void 0:s.toFixed(2))||"0.00"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"completed":case"success":return"bg-green-100 text-green-800";case"processing":case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status)),children:[(0,a.jsx)("span",{className:"mr-1",children:(e=>{switch(e){case"completed":return(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"processing":return(0,a.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});case"failed":return(0,a.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return null}})(e.status)}),(null==(r=e.status)?void 0:r.charAt(0).toUpperCase())+(null==(n=e.status)?void 0:n.slice(1))]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.timestamp?new Date(e.timestamp).toLocaleDateString():e.date?new Date(e.date).toLocaleDateString():"N/A"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:"View Details"}),"failed"===e.status&&(0,a.jsx)("button",{className:"text-green-600 hover:text-green-900",children:"Retry"})]})]},e.id)})})]})}),(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Page 1 of 1 • ",g.length," transactions"]}),(0,a.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 bg-white rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})})})]})}},4486:(e,t,s)=>{"use strict";let r,a,n;s.d(t,{BV:()=>n,db:()=>a});var l=s(6042),i=s(2964),o=s(2990),d=s(4873),c=s(3034);try{r=(0,l.Wp)({apiKey:"AIzaSyCh55YtpFUAlF4WcuOmFUhbTC1vgKI6VRU",authDomain:"remitxpress-41f49.firebaseapp.com",projectId:"remitxpress-41f49",storageBucket:"remitxpress-41f49.firebasestorage.app",messagingSenderId:"589588653662",appId:"1:589588653662:web:382f525a71be0e77b2f6cf",measurementId:"G-FCQFFX2KCF"}),a=(0,i.aU)(r),(0,o.xI)(r);try{(0,c.FJ)(r),console.log("Firebase Performance Monitoring initialized successfully")}catch(e){console.warn("Firebase Performance Monitoring not available:",e)}(0,d.TT)().then(e=>{e?(n=(0,d.dG)(r),console.log("Firebase Messaging initialized successfully")):(console.log("Firebase Messaging not supported in this browser"),n=null)}),console.log("Firebase initialized successfully")}catch(e){console.warn("Firebase initialization failed, using fallback:",e),a=null,n=null}}},e=>{e.O(0,[659,411,230,514,636,593,792],()=>e(e.s=490)),_N_E=e.O()}]);