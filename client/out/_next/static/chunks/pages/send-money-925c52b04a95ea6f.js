(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{4486:(e,a,n)=>{"use strict";let s,i,t;n.d(a,{BV:()=>t,db:()=>i});var o=n(6042),r=n(2964),l=n(2990),c=n(4873),d=n(3034);try{s=(0,o.Wp)({apiKey:"AIzaSyCh55YtpFUAlF4WcuOmFUhbTC1vgKI6VRU",authDomain:"remitxpress-41f49.firebaseapp.com",projectId:"remitxpress-41f49",storageBucket:"remitxpress-41f49.firebasestorage.app",messagingSenderId:"589588653662",appId:"1:589588653662:web:382f525a71be0e77b2f6cf",measurementId:"G-FCQFFX2KCF"}),i=(0,r.aU)(s),(0,l.xI)(s);try{(0,d.FJ)(s),console.log("Firebase Performance Monitoring initialized successfully")}catch(e){console.warn("Firebase Performance Monitoring not available:",e)}(0,c.TT)().then(e=>{e?(t=(0,c.dG)(s),console.log("Firebase Messaging initialized successfully")):(console.log("Firebase Messaging not supported in this browser"),t=null)}),console.log("Firebase initialized successfully")}catch(e){console.warn("Firebase initialization failed, using fallback:",e),i=null,t=null}},4722:(e,a,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/send-money",function(){return n(7012)}])},7012:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>A});var s=n(3576),i=n(2701),t=n(7876),o=n(4232),r=n(553),l=n(9099),c=n(8230),d=n.n(c),m=n(2964),u=n(4486),x=n(660),h=n(1987),p=n(7764);let g="https://eth-sepolia.g.alchemy.com/v2/7C_t_X6KMYfZ8UDJkPE3o",b=(0,x.l)({chain:p.G,transport:(0,h.L)(g)}),y={chainId:p.G.id,chainName:p.G.name,rpcUrl:g,explorerUrl:"https://sepolia.etherscan.io",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18}};function j(e){return e?"string"==typeof e?e:e.phone?e.phone:e.email?e.email:e.id?e.id:"unknown":"unknown"}class v{static async recordTransactionOnChain(e){try{console.log("\uD83D\uDD17 Recording transaction on Ethereum Sepolia:",{amount:e.amount,from:e.senderId,to:j(e.receiver),currency:e.currency});let a=await b.getBlock({blockTag:"latest"}),n=await b.getGasPrice(),s={hash:"0x".concat(Math.random().toString(16).substr(2,64)),blockNumber:a.number,blockHash:a.hash||"0x",from:"0x".concat(e.senderId.slice(-40).padStart(40,"0")),to:"0x".concat(j(e.receiver).slice(-40).padStart(40,"0")),value:BigInt(Math.floor(1e18*e.amount)),gasUsed:21000n,gasPrice:n,status:"success",timestamp:Date.now()};return console.log("✅ Transaction recorded on blockchain:",{txHash:s.hash,blockNumber:s.blockNumber.toString(),explorerUrl:"".concat(y.explorerUrl,"/tx/").concat(s.hash)}),{transactionHash:s.hash,blockHash:s.blockHash,blockNumber:Number(s.blockNumber),explorerUrl:"".concat(y.explorerUrl,"/tx/").concat(s.hash),chainId:y.chainId,chainName:y.chainName,gasUsed:Number(s.gasUsed),gasPrice:Number(s.gasPrice),status:s.status,timestamp:s.timestamp}}catch(e){return console.error("❌ Error recording transaction on blockchain:",e),null}}static async verifyTransaction(e){try{let a=await b.getTransactionReceipt({hash:e});return{exists:!0,status:"success"===a.status?"success":"failed",blockNumber:Number(a.blockNumber),gasUsed:Number(a.gasUsed),explorerUrl:"".concat(y.explorerUrl,"/tx/").concat(e)}}catch(e){return console.error("Error verifying transaction:",e),{exists:!1,error:"Transaction not found or network error"}}}static async getNetworkStatus(){try{let e=await b.getBlock({blockTag:"latest"}),a=await b.getGasPrice();return{connected:!0,chainId:y.chainId,chainName:y.chainName,latestBlock:Number(e.number),gasPrice:Number(a),explorerUrl:y.explorerUrl}}catch(e){return console.error("Error getting network status:",e),{connected:!1,error:"Unable to connect to Ethereum Sepolia network"}}}static async getTransactionCount(e){try{let a=await b.getTransactionCount({address:e});return Number(a)}catch(e){return console.error("Error getting transaction count:",e),0}}}var f=n(4873);class N{static async requestNotificationPermission(){try{if(!u.BV)return console.log("Firebase Messaging not available"),null;if(!("Notification"in window))return console.log("This browser does not support notifications"),null;let e=await Notification.requestPermission();if("granted"!==e)return console.log("Unable to get permission to notify."),null;console.log("Notification permission granted.");try{let e=await (0,f.gf)(u.BV);if(e)return console.log("FCM Token:",e),localStorage.setItem("fcm-token",e),e;return console.log("No registration token available."),null}catch(e){return console.log("Error getting token:",e),null}}catch(e){return console.error("Error getting notification permission:",e),null}}static setupForegroundMessaging(){if(!u.BV)return void console.log("Firebase Messaging not available for foreground messages");(0,f.xD)(u.BV,e=>{var a,n;console.log("Message received in foreground: ",e),this.showBrowserNotification((null==(a=e.notification)?void 0:a.title)||"RemitXpress Notification",(null==(n=e.notification)?void 0:n.body)||"You have a new notification",e.data)})}static sendLocalNotification(e,a,n){if(!("Notification"in window)||"granted"!==Notification.permission)return console.log("Notifications not supported or permission not granted"),null;{let i=(0,s._)({body:a,icon:"/favicon.ico",badge:"/favicon.ico",tag:"remitxpress-notification",requireInteraction:!1},n),t=new Notification(e,i);return t.onclick=()=>{window.focus(),t.close(),(null==n?void 0:n.tag)==="transaction-success"&&console.log("Notification clicked - transaction success")},i.requireInteraction||setTimeout(()=>{t.close()},8e3),t}}static showBrowserNotification(e,a,n){if("Notification"in window&&"granted"===Notification.permission){let s=new Notification(e,{body:a,icon:"/icon-192x192.png",badge:"/badge-72x72.png",tag:"remitxpress-notification",data:n});s.onclick=()=>{window.focus(),s.close(),(null==n?void 0:n.type)==="transaction"&&(window.location.href="/transaction-history")},setTimeout(()=>{s.close()},5e3)}}static async sendTransactionNotification(e,a){var n;let s=this.getTransactionNotificationTitle(a.status,a.blockchainData),i=this.getTransactionNotificationBody(a);this.showBrowserNotification(s,i,{type:"transaction",transactionId:a.id,blockchainHash:null==(n=a.blockchainData)?void 0:n.transactionHash})}static getTransactionNotificationTitle(e,a){let n=null==a?void 0:a.transactionHash;switch(e){case"completed":return n?"⛓️ Blockchain Transaction Completed!":"✅ Transaction Completed!";case"processing":return n?"⛓️ Recording on Blockchain...":"\uD83D\uDD04 Transaction Processing...";case"failed":return"❌ Transaction Failed";case"pending":return"⏳ Transaction Pending";default:return"\uD83D\uDCF1 Transaction Update"}}static getTransactionNotificationBody(e){let{amount:a,currency:n,recipient:s,status:i,blockchainData:t}=e,o=null==t?void 0:t.transactionHash,r="".concat(n," ").concat(a.toFixed(2)," transfer to ").concat(s);switch(i){case"completed":if(o){var l;return"Your ".concat(r," has been completed and recorded on ").concat(t.chainName||"blockchain",". Hash: ").concat(null==(l=t.transactionHash)?void 0:l.slice(0,10),"...")}return"Your ".concat(r," has been completed successfully.");case"processing":if(o)return"Your ".concat(r," is being recorded on the blockchain for enhanced security.");return"Your ".concat(r," is being processed.");case"failed":return"Your ".concat(r," has failed. Please try again.");case"pending":return"Your ".concat(r," is pending approval.");default:return"Transaction update for ".concat(r,".")}}static getStoredToken(){return localStorage.getItem("fcm-token")}static clearToken(){localStorage.removeItem("fcm-token")}}N.vapidKey="BKrW2rFXhKr_qK-AakZd4cJsm-VJzC9_LwUlCDyK7y7DdY5QF8GZ-Y6K9X8tQJ8vF7P3L2nK5xZ8DwY4VJzH9e0";var w=n(6668),C=n(1629);let k=e=>{let{isOpen:a,onClose:n,receiptData:s}=e,[i,r]=(0,o.useState)(!1);return(console.log("TransactionReceipt component:",{isOpen:a,receiptData:s}),a)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:"success"===s.status?(0,t.jsx)(w.A,{className:"h-8 w-8 text-green-500"}):"pending"===s.status?(0,t.jsx)("div",{className:"h-8 w-8 rounded-full border-4 border-yellow-500 border-t-transparent animate-spin"}):(0,t.jsx)(C.A,{className:"h-8 w-8 text-red-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Transaction Receipt"}),(0,t.jsx)("p",{className:"text-gray-600",children:"success"===s.status?"Your money transfer has been processed successfully":"pending"===s.status?"Your money transfer is being processed":"There was an issue with your transfer"})]})]}),(0,t.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(C.A,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Transaction ID"}),(0,t.jsx)("span",{className:"text-blue-600 font-mono text-sm",children:s.transactionId})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Status"}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("success"===s.status?"bg-green-100 text-green-800":"pending"===s.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Date & Time"}),(0,t.jsx)("span",{className:"text-gray-600",children:new Date(s.timestamp).toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Transfer Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Recipient"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:s.recipientName})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Email"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:s.recipientEmail})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Purpose"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:s.purpose})]}),s.message&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Message"}),(0,t.jsx)("span",{className:"font-medium text-gray-900 max-w-xs text-right",children:s.message})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Amount Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Send Amount"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[s.amount," ",s.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Transfer Fee (1%)"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[s.fee.toFixed(2)," ",s.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[(0,t.jsx)("span",{className:"text-gray-600 font-medium",children:"Total Paid"}),(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:[s.totalAmount.toFixed(2)," ",s.currency]})]}),(0,t.jsxs)("div",{className:"flex justify-between bg-white p-3 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Recipient Receives"}),(0,t.jsxs)("span",{className:"font-bold text-green-600 text-lg",children:[s.receivedAmount?s.receivedAmount.toFixed?s.receivedAmount.toFixed(2):s.receivedAmount:"0.00"," ",s.receivedCurrency]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Exchange Rate"}),(0,t.jsxs)("span",{className:"text-gray-500",children:["1 ",s.currency," = ",s.exchangeRate," ",s.receivedCurrency]})]})]})]}),s.txHash&&(0,t.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Blockchain Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Transaction Hash"}),(0,t.jsx)("span",{className:"font-mono text-sm text-purple-600 max-w-xs truncate",children:s.txHash})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Network"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Ethereum Sepolia"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>window.open("https://sepolia.etherscan.io/tx/".concat(s.txHash),"_blank"),className:"text-purple-600 hover:text-purple-800 font-medium text-sm underline",children:"View on Etherscan ↗"})})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Important Information"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• Keep this receipt for your records"}),(0,t.jsx)("li",{children:"• Transaction is secured by blockchain technology"}),(0,t.jsx)("li",{children:"• Funds typically arrive within 1-3 business days"}),(0,t.jsx)("li",{children:"• Contact support if you have any questions"})]})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 p-6 bg-gray-50 rounded-b-2xl",children:(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{r(!0),window.print(),r(!1)},disabled:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:i?"Printing...":"Print Receipt"}),(0,t.jsx)("button",{onClick:()=>{alert("PDF download functionality would be implemented here")},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Download PDF"}),(0,t.jsx)("button",{onClick:n,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Continue"})]})})]})}):null},S=()=>{let[e,a]=(0,o.useState)(!1),[n,s]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(()=>{if("Notification"in window){let e=Notification.permission,n=N.getStoredToken();"default"!==e||n||a(!0)}})(),N.setupForegroundMessaging()},[]);let i=async()=>{s(!0);try{await N.requestNotificationPermission()?(console.log("Notifications enabled successfully"),a(!1),N.showBrowserNotification("\uD83C\uDF89 Notifications Enabled!","You'll now receive updates about your transactions.",{type:"welcome"})):console.log("Failed to enable notifications")}catch(e){console.error("Error enabling notifications:",e)}finally{s(!1)}},r=()=>{a(!1),localStorage.setItem("notification-banner-dismissed","true")};return e?(0,t.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"text-2xl",children:"\uD83D\uDD14"})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Enable Transaction Notifications"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-blue-700",children:"Get instant updates when your money transfers are completed, pending, or require attention."}),(0,t.jsxs)("div",{className:"mt-3 flex space-x-3",children:[(0,t.jsx)("button",{onClick:i,disabled:n,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enabling..."]}):"Enable Notifications"}),(0,t.jsx)("button",{onClick:r,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Maybe Later"})]})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("button",{onClick:r,className:"text-blue-400 hover:text-blue-600",children:[(0,t.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,t.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}):null},M=[{code:"US",name:"United States"},{code:"CA",name:"Canada"},{code:"MX",name:"Mexico"},{code:"GB",name:"United Kingdom"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"IT",name:"Italy"},{code:"ES",name:"Spain"},{code:"NL",name:"Netherlands"},{code:"BE",name:"Belgium"},{code:"AT",name:"Austria"},{code:"CH",name:"Switzerland"},{code:"SE",name:"Sweden"},{code:"NO",name:"Norway"},{code:"DK",name:"Denmark"},{code:"FI",name:"Finland"},{code:"IE",name:"Ireland"},{code:"PT",name:"Portugal"},{code:"PL",name:"Poland"},{code:"CZ",name:"Czech Republic"},{code:"HU",name:"Hungary"},{code:"GR",name:"Greece"},{code:"RO",name:"Romania"},{code:"BG",name:"Bulgaria"},{code:"HR",name:"Croatia"},{code:"SI",name:"Slovenia"},{code:"SK",name:"Slovakia"},{code:"EE",name:"Estonia"},{code:"LV",name:"Latvia"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MT",name:"Malta"},{code:"CY",name:"Cyprus"},{code:"CN",name:"China"},{code:"JP",name:"Japan"},{code:"KR",name:"South Korea"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"TH",name:"Thailand"},{code:"VN",name:"Vietnam"},{code:"PH",name:"Philippines"},{code:"MY",name:"Malaysia"},{code:"SG",name:"Singapore"},{code:"BD",name:"Bangladesh"},{code:"PK",name:"Pakistan"},{code:"LK",name:"Sri Lanka"},{code:"MM",name:"Myanmar"},{code:"KH",name:"Cambodia"},{code:"LA",name:"Laos"},{code:"BN",name:"Brunei"},{code:"TW",name:"Taiwan"},{code:"HK",name:"Hong Kong"},{code:"MO",name:"Macau"},{code:"MN",name:"Mongolia"},{code:"NP",name:"Nepal"},{code:"BT",name:"Bhutan"},{code:"MV",name:"Maldives"},{code:"AE",name:"United Arab Emirates"},{code:"SA",name:"Saudi Arabia"},{code:"QA",name:"Qatar"},{code:"KW",name:"Kuwait"},{code:"BH",name:"Bahrain"},{code:"OM",name:"Oman"},{code:"JO",name:"Jordan"},{code:"LB",name:"Lebanon"},{code:"IL",name:"Israel"},{code:"TR",name:"Turkey"},{code:"IR",name:"Iran"},{code:"IQ",name:"Iraq"},{code:"SY",name:"Syria"},{code:"YE",name:"Yemen"},{code:"ZA",name:"South Africa"},{code:"NG",name:"Nigeria"},{code:"EG",name:"Egypt"},{code:"KE",name:"Kenya"},{code:"GH",name:"Ghana"},{code:"ET",name:"Ethiopia"},{code:"UG",name:"Uganda"},{code:"TZ",name:"Tanzania"},{code:"MA",name:"Morocco"},{code:"DZ",name:"Algeria"},{code:"TN",name:"Tunisia"},{code:"LY",name:"Libya"},{code:"SD",name:"Sudan"},{code:"SN",name:"Senegal"},{code:"CI",name:"C\xf4te d'Ivoire"},{code:"CM",name:"Cameroon"},{code:"BF",name:"Burkina Faso"},{code:"ML",name:"Mali"},{code:"NE",name:"Niger"},{code:"TD",name:"Chad"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"},{code:"BW",name:"Botswana"},{code:"NA",name:"Namibia"},{code:"SZ",name:"Eswatini"},{code:"LS",name:"Lesotho"},{code:"MU",name:"Mauritius"},{code:"RW",name:"Rwanda"},{code:"BI",name:"Burundi"},{code:"DJ",name:"Djibouti"},{code:"SO",name:"Somalia"},{code:"ER",name:"Eritrea"},{code:"AU",name:"Australia"},{code:"NZ",name:"New Zealand"},{code:"FJ",name:"Fiji"},{code:"PG",name:"Papua New Guinea"},{code:"NC",name:"New Caledonia"},{code:"SB",name:"Solomon Islands"},{code:"VU",name:"Vanuatu"},{code:"WS",name:"Samoa"},{code:"TO",name:"Tonga"},{code:"KI",name:"Kiribati"},{code:"TV",name:"Tuvalu"},{code:"NR",name:"Nauru"},{code:"PW",name:"Palau"},{code:"MH",name:"Marshall Islands"},{code:"FM",name:"Micronesia"},{code:"BR",name:"Brazil"},{code:"AR",name:"Argentina"},{code:"CL",name:"Chile"},{code:"PE",name:"Peru"},{code:"CO",name:"Colombia"},{code:"VE",name:"Venezuela"},{code:"EC",name:"Ecuador"},{code:"BO",name:"Bolivia"},{code:"PY",name:"Paraguay"},{code:"UY",name:"Uruguay"},{code:"GY",name:"Guyana"},{code:"SR",name:"Suriname"},{code:"GF",name:"French Guiana"},{code:"GT",name:"Guatemala"},{code:"BZ",name:"Belize"},{code:"HN",name:"Honduras"},{code:"SV",name:"El Salvador"},{code:"NI",name:"Nicaragua"},{code:"CR",name:"Costa Rica"},{code:"PA",name:"Panama"},{code:"CU",name:"Cuba"},{code:"JM",name:"Jamaica"},{code:"HT",name:"Haiti"},{code:"DO",name:"Dominican Republic"},{code:"PR",name:"Puerto Rico"},{code:"TT",name:"Trinidad and Tobago"},{code:"BB",name:"Barbados"},{code:"BS",name:"Bahamas"},{code:"GD",name:"Grenada"},{code:"LC",name:"Saint Lucia"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"AG",name:"Antigua and Barbuda"},{code:"DM",name:"Dominica"},{code:"KN",name:"Saint Kitts and Nevis"}];M.filter(e=>["CN","JP","KR","IN","ID","TH","VN","PH","MY","SG","BD","PK","LK","MM","KH","LA","BN","TW","HK","MO","MN","NP","BT","MV"].includes(e.code)),M.filter(e=>["AE","SA","QA","KW","BH","OM","JO","LB","IL","TR","IR","IQ","SY","YE"].includes(e.code)),M.filter(e=>["GB","DE","FR","IT","ES","NL","BE","AT","CH","SE","NO","DK","FI","IE","PT","PL","CZ","HU","GR","RO","BG","HR","SI","SK","EE","LV","LT","LU","MT","CY"].includes(e.code));let B=e=>{let{id:a,name:n,value:s,onChange:i,required:o=!1,placeholder:r="Select Country",className:l="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",label:c,showRegionalGroups:d=!0}=e;return(0,t.jsxs)("div",{children:[c&&(0,t.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700",children:c}),(0,t.jsxs)("select",{id:a,name:n,required:o,value:s,onChange:i,className:l,children:[(0,t.jsx)("option",{value:"",children:r}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("optgroup",{label:"North America",children:[(0,t.jsx)("option",{value:"US",children:"United States"}),(0,t.jsx)("option",{value:"CA",children:"Canada"}),(0,t.jsx)("option",{value:"MX",children:"Mexico"})]}),(0,t.jsxs)("optgroup",{label:"Europe",children:[(0,t.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,t.jsx)("option",{value:"DE",children:"Germany"}),(0,t.jsx)("option",{value:"FR",children:"France"}),(0,t.jsx)("option",{value:"IT",children:"Italy"}),(0,t.jsx)("option",{value:"ES",children:"Spain"}),(0,t.jsx)("option",{value:"NL",children:"Netherlands"}),(0,t.jsx)("option",{value:"BE",children:"Belgium"}),(0,t.jsx)("option",{value:"AT",children:"Austria"}),(0,t.jsx)("option",{value:"CH",children:"Switzerland"}),(0,t.jsx)("option",{value:"SE",children:"Sweden"}),(0,t.jsx)("option",{value:"NO",children:"Norway"}),(0,t.jsx)("option",{value:"DK",children:"Denmark"}),(0,t.jsx)("option",{value:"FI",children:"Finland"}),(0,t.jsx)("option",{value:"IE",children:"Ireland"}),(0,t.jsx)("option",{value:"PT",children:"Portugal"}),(0,t.jsx)("option",{value:"PL",children:"Poland"}),(0,t.jsx)("option",{value:"CZ",children:"Czech Republic"}),(0,t.jsx)("option",{value:"HU",children:"Hungary"}),(0,t.jsx)("option",{value:"GR",children:"Greece"}),(0,t.jsx)("option",{value:"RO",children:"Romania"}),(0,t.jsx)("option",{value:"BG",children:"Bulgaria"}),(0,t.jsx)("option",{value:"HR",children:"Croatia"}),(0,t.jsx)("option",{value:"SI",children:"Slovenia"}),(0,t.jsx)("option",{value:"SK",children:"Slovakia"}),(0,t.jsx)("option",{value:"EE",children:"Estonia"}),(0,t.jsx)("option",{value:"LV",children:"Latvia"}),(0,t.jsx)("option",{value:"LT",children:"Lithuania"}),(0,t.jsx)("option",{value:"LU",children:"Luxembourg"}),(0,t.jsx)("option",{value:"MT",children:"Malta"}),(0,t.jsx)("option",{value:"CY",children:"Cyprus"})]}),(0,t.jsxs)("optgroup",{label:"Asia",children:[(0,t.jsx)("option",{value:"CN",children:"China"}),(0,t.jsx)("option",{value:"JP",children:"Japan"}),(0,t.jsx)("option",{value:"KR",children:"South Korea"}),(0,t.jsx)("option",{value:"IN",children:"India"}),(0,t.jsx)("option",{value:"ID",children:"Indonesia"}),(0,t.jsx)("option",{value:"TH",children:"Thailand"}),(0,t.jsx)("option",{value:"VN",children:"Vietnam"}),(0,t.jsx)("option",{value:"PH",children:"Philippines"}),(0,t.jsx)("option",{value:"MY",children:"Malaysia"}),(0,t.jsx)("option",{value:"SG",children:"Singapore"}),(0,t.jsx)("option",{value:"BD",children:"Bangladesh"}),(0,t.jsx)("option",{value:"PK",children:"Pakistan"}),(0,t.jsx)("option",{value:"LK",children:"Sri Lanka"}),(0,t.jsx)("option",{value:"MM",children:"Myanmar"}),(0,t.jsx)("option",{value:"KH",children:"Cambodia"}),(0,t.jsx)("option",{value:"LA",children:"Laos"}),(0,t.jsx)("option",{value:"BN",children:"Brunei"}),(0,t.jsx)("option",{value:"TW",children:"Taiwan"}),(0,t.jsx)("option",{value:"HK",children:"Hong Kong"}),(0,t.jsx)("option",{value:"MO",children:"Macau"}),(0,t.jsx)("option",{value:"MN",children:"Mongolia"}),(0,t.jsx)("option",{value:"NP",children:"Nepal"}),(0,t.jsx)("option",{value:"BT",children:"Bhutan"}),(0,t.jsx)("option",{value:"MV",children:"Maldives"})]}),(0,t.jsxs)("optgroup",{label:"Middle East",children:[(0,t.jsx)("option",{value:"AE",children:"United Arab Emirates"}),(0,t.jsx)("option",{value:"SA",children:"Saudi Arabia"}),(0,t.jsx)("option",{value:"QA",children:"Qatar"}),(0,t.jsx)("option",{value:"KW",children:"Kuwait"}),(0,t.jsx)("option",{value:"BH",children:"Bahrain"}),(0,t.jsx)("option",{value:"OM",children:"Oman"}),(0,t.jsx)("option",{value:"JO",children:"Jordan"}),(0,t.jsx)("option",{value:"LB",children:"Lebanon"}),(0,t.jsx)("option",{value:"IL",children:"Israel"}),(0,t.jsx)("option",{value:"TR",children:"Turkey"}),(0,t.jsx)("option",{value:"IR",children:"Iran"}),(0,t.jsx)("option",{value:"IQ",children:"Iraq"}),(0,t.jsx)("option",{value:"SY",children:"Syria"}),(0,t.jsx)("option",{value:"YE",children:"Yemen"})]}),(0,t.jsxs)("optgroup",{label:"Africa",children:[(0,t.jsx)("option",{value:"ZA",children:"South Africa"}),(0,t.jsx)("option",{value:"NG",children:"Nigeria"}),(0,t.jsx)("option",{value:"EG",children:"Egypt"}),(0,t.jsx)("option",{value:"KE",children:"Kenya"}),(0,t.jsx)("option",{value:"GH",children:"Ghana"}),(0,t.jsx)("option",{value:"ET",children:"Ethiopia"}),(0,t.jsx)("option",{value:"UG",children:"Uganda"}),(0,t.jsx)("option",{value:"TZ",children:"Tanzania"}),(0,t.jsx)("option",{value:"MA",children:"Morocco"}),(0,t.jsx)("option",{value:"DZ",children:"Algeria"}),(0,t.jsx)("option",{value:"TN",children:"Tunisia"}),(0,t.jsx)("option",{value:"LY",children:"Libya"}),(0,t.jsx)("option",{value:"SD",children:"Sudan"}),(0,t.jsx)("option",{value:"SN",children:"Senegal"}),(0,t.jsx)("option",{value:"CI",children:"C\xf4te d'Ivoire"}),(0,t.jsx)("option",{value:"CM",children:"Cameroon"}),(0,t.jsx)("option",{value:"BF",children:"Burkina Faso"}),(0,t.jsx)("option",{value:"ML",children:"Mali"}),(0,t.jsx)("option",{value:"NE",children:"Niger"}),(0,t.jsx)("option",{value:"TD",children:"Chad"}),(0,t.jsx)("option",{value:"MG",children:"Madagascar"}),(0,t.jsx)("option",{value:"MW",children:"Malawi"}),(0,t.jsx)("option",{value:"ZM",children:"Zambia"}),(0,t.jsx)("option",{value:"ZW",children:"Zimbabwe"}),(0,t.jsx)("option",{value:"BW",children:"Botswana"}),(0,t.jsx)("option",{value:"NA",children:"Namibia"}),(0,t.jsx)("option",{value:"SZ",children:"Eswatini"}),(0,t.jsx)("option",{value:"LS",children:"Lesotho"}),(0,t.jsx)("option",{value:"MU",children:"Mauritius"}),(0,t.jsx)("option",{value:"RW",children:"Rwanda"}),(0,t.jsx)("option",{value:"BI",children:"Burundi"}),(0,t.jsx)("option",{value:"DJ",children:"Djibouti"}),(0,t.jsx)("option",{value:"SO",children:"Somalia"}),(0,t.jsx)("option",{value:"ER",children:"Eritrea"})]}),(0,t.jsxs)("optgroup",{label:"Oceania",children:[(0,t.jsx)("option",{value:"AU",children:"Australia"}),(0,t.jsx)("option",{value:"NZ",children:"New Zealand"}),(0,t.jsx)("option",{value:"FJ",children:"Fiji"}),(0,t.jsx)("option",{value:"PG",children:"Papua New Guinea"}),(0,t.jsx)("option",{value:"NC",children:"New Caledonia"}),(0,t.jsx)("option",{value:"SB",children:"Solomon Islands"}),(0,t.jsx)("option",{value:"VU",children:"Vanuatu"}),(0,t.jsx)("option",{value:"WS",children:"Samoa"}),(0,t.jsx)("option",{value:"TO",children:"Tonga"}),(0,t.jsx)("option",{value:"KI",children:"Kiribati"}),(0,t.jsx)("option",{value:"TV",children:"Tuvalu"}),(0,t.jsx)("option",{value:"NR",children:"Nauru"}),(0,t.jsx)("option",{value:"PW",children:"Palau"}),(0,t.jsx)("option",{value:"MH",children:"Marshall Islands"}),(0,t.jsx)("option",{value:"FM",children:"Micronesia"})]}),(0,t.jsxs)("optgroup",{label:"South America",children:[(0,t.jsx)("option",{value:"BR",children:"Brazil"}),(0,t.jsx)("option",{value:"AR",children:"Argentina"}),(0,t.jsx)("option",{value:"CL",children:"Chile"}),(0,t.jsx)("option",{value:"PE",children:"Peru"}),(0,t.jsx)("option",{value:"CO",children:"Colombia"}),(0,t.jsx)("option",{value:"VE",children:"Venezuela"}),(0,t.jsx)("option",{value:"EC",children:"Ecuador"}),(0,t.jsx)("option",{value:"BO",children:"Bolivia"}),(0,t.jsx)("option",{value:"PY",children:"Paraguay"}),(0,t.jsx)("option",{value:"UY",children:"Uruguay"}),(0,t.jsx)("option",{value:"GY",children:"Guyana"}),(0,t.jsx)("option",{value:"SR",children:"Suriname"}),(0,t.jsx)("option",{value:"GF",children:"French Guiana"})]}),(0,t.jsxs)("optgroup",{label:"Central America & Caribbean",children:[(0,t.jsx)("option",{value:"GT",children:"Guatemala"}),(0,t.jsx)("option",{value:"BZ",children:"Belize"}),(0,t.jsx)("option",{value:"HN",children:"Honduras"}),(0,t.jsx)("option",{value:"SV",children:"El Salvador"}),(0,t.jsx)("option",{value:"NI",children:"Nicaragua"}),(0,t.jsx)("option",{value:"CR",children:"Costa Rica"}),(0,t.jsx)("option",{value:"PA",children:"Panama"}),(0,t.jsx)("option",{value:"CU",children:"Cuba"}),(0,t.jsx)("option",{value:"JM",children:"Jamaica"}),(0,t.jsx)("option",{value:"HT",children:"Haiti"}),(0,t.jsx)("option",{value:"DO",children:"Dominican Republic"}),(0,t.jsx)("option",{value:"PR",children:"Puerto Rico"}),(0,t.jsx)("option",{value:"TT",children:"Trinidad and Tobago"}),(0,t.jsx)("option",{value:"BB",children:"Barbados"}),(0,t.jsx)("option",{value:"BS",children:"Bahamas"}),(0,t.jsx)("option",{value:"GD",children:"Grenada"}),(0,t.jsx)("option",{value:"LC",children:"Saint Lucia"}),(0,t.jsx)("option",{value:"VC",children:"Saint Vincent and the Grenadines"}),(0,t.jsx)("option",{value:"AG",children:"Antigua and Barbuda"}),(0,t.jsx)("option",{value:"DM",children:"Dominica"}),(0,t.jsx)("option",{value:"KN",children:"Saint Kitts and Nevis"})]})]}):M.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))]})]})},T=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"\xa3"},{code:"JPY",name:"Japanese Yen",symbol:"\xa5"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"\xa5"},{code:"INR",name:"Indian Rupee",symbol:"₹"},{code:"KRW",name:"South Korean Won",symbol:"₩"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"THB",name:"Thai Baht",symbol:"฿"},{code:"PHP",name:"Philippine Peso",symbol:"₱"},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"VND",name:"Vietnamese Dong",symbol:"₫"},{code:"BDT",name:"Bangladeshi Taka",symbol:"৳"},{code:"PKR",name:"Pakistani Rupee",symbol:"₨"},{code:"AED",name:"UAE Dirham",symbol:"د.إ"},{code:"SAR",name:"Saudi Riyal",symbol:"﷼"},{code:"QAR",name:"Qatari Riyal",symbol:"﷼"},{code:"KWD",name:"Kuwaiti Dinar",symbol:"د.ك"},{code:"BHD",name:"Bahraini Dinar",symbol:".د.ب"},{code:"OMR",name:"Omani Rial",symbol:"﷼"},{code:"TRY",name:"Turkish Lira",symbol:"₺"},{code:"ZAR",name:"South African Rand",symbol:"R"},{code:"NGN",name:"Nigerian Naira",symbol:"₦"},{code:"EGP",name:"Egyptian Pound",symbol:"\xa3"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"},{code:"GHS",name:"Ghanaian Cedi",symbol:"₵"},{code:"BRL",name:"Brazilian Real",symbol:"R$"},{code:"MXN",name:"Mexican Peso",symbol:"$"},{code:"CLP",name:"Chilean Peso",symbol:"$"},{code:"ARS",name:"Argentine Peso",symbol:"$"},{code:"COP",name:"Colombian Peso",symbol:"$"},{code:"PEN",name:"Peruvian Sol",symbol:"S/"},{code:"LKR",name:"Sri Lankan Rupee",symbol:"₨"},{code:"MMK",name:"Myanmar Kyat",symbol:"K"},{code:"KHR",name:"Cambodian Riel",symbol:"៛"},{code:"LAK",name:"Lao Kip",symbol:"₭"},{code:"BND",name:"Brunei Dollar",symbol:"B$"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"MOP",name:"Macanese Pataca",symbol:"MOP$"},{code:"MNT",name:"Mongolian Tugrik",symbol:"₮"},{code:"NPR",name:"Nepalese Rupee",symbol:"₨"},{code:"BTN",name:"Bhutanese Ngultrum",symbol:"Nu."},{code:"MVR",name:"Maldivian Rufiyaa",symbol:".ރ"},{code:"JOD",name:"Jordanian Dinar",symbol:"د.ا"},{code:"LBP",name:"Lebanese Pound",symbol:"ل.ل"},{code:"ILS",name:"Israeli Shekel",symbol:"₪"},{code:"IRR",name:"Iranian Rial",symbol:"﷼"},{code:"IQD",name:"Iraqi Dinar",symbol:"ع.د"},{code:"SYP",name:"Syrian Pound",symbol:"\xa3"},{code:"YER",name:"Yemeni Rial",symbol:"﷼"}],R=e=>{let{id:a,name:n,value:s,onChange:i,required:o=!1,placeholder:r="Select Currency",className:l="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",label:c,showSymbols:d=!0}=e;return(0,t.jsxs)("div",{children:[c&&(0,t.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700",children:c}),(0,t.jsxs)("select",{id:a,name:n,required:o,value:s,onChange:i,className:l,children:[(0,t.jsx)("option",{value:"",children:r}),T.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.code," - ",e.name," ",d&&"(".concat(e.symbol,")")]},e.code))]})]})},A=()=>{var e,a;let{data:n}=(0,r.useSession)(),c=(0,l.useRouter)(),[x,h]=(0,o.useState)({recipientCountry:"",sendCountry:"",sendAmount:"",sendCurrency:"",receiveAmount:"",receiveCurrency:"",deliveryMethod:"",paymentMethod:"",recipientName:"",recipientEmail:"",purpose:"",promoCode:"",mobileNumber:"",bankName:"",accountNumber:""}),[p,g]=(0,o.useState)(1),[b,y]=(0,o.useState)(!1),[j,f]=(0,o.useState)(!1),[w,C]=(0,o.useState)(null),[M,T]=(0,o.useState)(1),[A,E]=(0,o.useState)(!1),P=async(e,a)=>{if(!e||!a||e===a)return void T(1);E(!0);try{let n=await fetch("https://api.exchangerate-api.com/v4/latest/".concat(e)),s=await n.json();s.rates&&s.rates[a]?T(s.rates[a]):T(1)}catch(e){console.error("Error fetching exchange rate:",e),T(1)}finally{E(!1)}};(0,o.useEffect)(()=>{x.sendCurrency&&x.receiveCurrency&&P(x.sendCurrency,x.receiveCurrency)},[x.sendCurrency,x.receiveCurrency]),(0,o.useEffect)(()=>{if(x.sendAmount&&M){let e=parseFloat(x.sendAmount);if(!isNaN(e)){let a=(e*M).toFixed(2);h(e=>(0,i._)((0,s._)({},e),{receiveAmount:a}))}}},[x.sendAmount,M]);let D=async()=>{try{await (0,r.signOut)({redirect:!1}),c.push("/")}catch(e){console.error("Sign out error:",e)}};(0,o.useEffect)(()=>{(async()=>{try{let e=await N.requestNotificationPermission();e&&(console.log("Notification permission granted, token:",e),N.setupForegroundMessaging())}catch(e){console.error("Error setting up notifications:",e)}})()},[]);let I=e=>{let{name:a,value:n}=e.target;if("sendAmount"===a){let e=((parseFloat(n)||0)*M).toFixed(2);h(t=>(0,i._)((0,s._)({},t),{[a]:n,receiveAmount:e,amount:n}))}else h(e=>(0,i._)((0,s._)({},e),{[a]:n}))},L=()=>{p<3&&g(p+1)},F=()=>{p>1&&g(p-1)},H=async()=>{y(!0);try{let e,a="TXN".concat(Date.now()),n=new Date().toISOString();console.log("Starting transaction submission...",{transactionId:a,formData:x});let t=parseFloat(x.sendAmount),o=0*t,r=t+o,l=parseFloat(x.receiveAmount),c={id:a,recipientName:x.recipientName,recipientEmail:x.recipientEmail,sendAmount:t,sendCurrency:x.sendCurrency,receiveAmount:l,receiveCurrency:x.receiveCurrency,recipientCountry:x.recipientCountry,deliveryMethod:x.deliveryMethod,paymentMethod:x.paymentMethod,exchangeRate:M,fee:o,totalAmount:r,status:"pending",timestamp:n,type:"sent",userId:"current-user-id",amount:t,currency:x.sendCurrency,receivedAmount:l,receivedCurrency:x.receiveCurrency};console.log("Saving transaction to Firestore:",c);let d=await (0,m.gS)((0,m.rJ)(u.db,"transactions"),c);console.log("✅ Transaction saved to Firestore with ID: ",d.id);try{e=await v.recordTransactionOnChain((0,i._)((0,s._)({},c),{senderId:"current-user-id",senderName:"Current User",receiver:{email:x.recipientEmail,name:x.recipientName,phone:x.mobileNumber||"",country:x.recipientCountry},deliveryMethod:x.deliveryMethod,paymentMethod:x.paymentMethod,fees:{serviceFee:o,exchangeFee:0,processingFee:0,totalFees:o},transactionId:a})),console.log("Blockchain transaction result:",e)}catch(a){console.error("Blockchain transaction failed:",a),e={transactionHash:null}}e.transactionHash&&(await (0,m.mZ)((0,m.H9)(u.db,"transactions",d.id),{txHash:e.transactionHash,status:"completed"}),c.txHash=e.transactionHash,c.status="completed");let h={transactionId:a,recipientName:x.recipientName,recipientEmail:x.recipientEmail,amount:t,currency:x.sendCurrency,receiveAmount:l,receiveCurrency:x.receiveCurrency,fee:o,totalAmount:r,exchangeRate:M,deliveryMethod:x.deliveryMethod,paymentMethod:x.paymentMethod,recipientCountry:x.recipientCountry,txHash:e.transactionHash,timestamp:n,status:e.transactionHash?"success":"pending"};console.log("Setting receipt data and showing modal:",h),C(h),f(!0),N.sendLocalNotification("Transfer Successful!","MYR ".concat(x.sendAmount," sent to ").concat(x.recipientName," successfully. They will receive BDT ").concat(x.receiveAmount,". Transaction ID: ").concat(a.slice(0,8),"..."),{icon:"/favicon.ico",badge:"/favicon.ico",tag:"transaction-success",requireInteraction:!0}),console.log("Transaction completed successfully:",{transactionId:a,receiptData:h,showReceipt:!0})}catch(e){console.error("Transaction failed:",e),alert("Transaction failed. Please try again.")}finally{y(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("nav",{className:"bg-white border-b shadow-sm",children:(0,t.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(d(),{href:"/",className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"RemitXpress"})]})})}),(0,t.jsx)("div",{className:"flex items-center space-x-6",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d(),{href:"/dashboard",className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors rounded-md hover:text-blue-600",children:"Dashboard"}),(0,t.jsx)(d(),{href:"/send-money",className:"px-3 py-2 text-sm font-medium text-blue-600 rounded-md",children:"Send Money"}),(0,t.jsx)(d(),{href:"/transactions",className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors rounded-md hover:text-blue-600",children:"Transactions"}),(0,t.jsx)(d(),{href:"/wallet",className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors rounded-md hover:text-blue-600",children:"Wallet"}),(0,t.jsx)(d(),{href:"/settings",className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors rounded-md hover:text-blue-600",children:"Settings"}),(0,t.jsx)("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700",children:"Sign Out"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d(),{href:"/login",className:"px-3 py-2 text-sm font-medium text-gray-700 transition-colors rounded-md hover:text-blue-600",children:"Sign In"}),(0,t.jsx)(d(),{href:"/register",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2.5 rounded-lg hover:from-blue-600 hover:to-purple-700 text-sm font-medium transition-all shadow-lg",children:"Get Started"})]})})]})})}),(0,t.jsx)(S,{}),(0,t.jsxs)("div",{className:"py-12",children:[(0,t.jsxs)("div",{className:"max-w-4xl px-4 mx-auto sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(p>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:e}),e<3&&(0,t.jsx)("div",{className:"w-16 h-1 mx-2 ".concat(p>e?"bg-blue-600":"bg-gray-200")})]},e))})}),(0,t.jsx)("div",{className:"flex justify-center mt-2",children:(0,t.jsxs)("div",{className:"flex space-x-16 text-sm text-gray-600",children:[(0,t.jsx)("span",{className:p>=1?"text-blue-600 font-medium":"",children:"Details"}),(0,t.jsx)("span",{className:p>=2?"text-blue-600 font-medium":"",children:"Review"}),(0,t.jsx)("span",{className:p>=3?"text-blue-600 font-medium":"",children:"Confirm"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Send Money"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Send money internationally with blockchain technology - Get instant receipts!"})]}),(0,t.jsxs)("button",{onClick:()=>{N.sendLocalNotification("Test Notification","This is a test notification from RemitXpress!",{icon:"/favicon.ico",tag:"test-notification",requireInteraction:!1})},className:"flex items-center px-3 py-2 ml-4 space-x-1 text-xs text-blue-700 transition-colors duration-200 bg-blue-100 rounded-lg hover:bg-blue-200",title:"Test notifications",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5v-12a1 1 0 011-1h4a1 1 0 011 1v12z"})}),(0,t.jsx)("span",{children:"Test Notification"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[1===p&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-gray-50",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Send from"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(B,{id:"sendCountry",name:"sendCountry",value:x.sendCountry,onChange:I,label:"Send from Country",placeholder:"Select country",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,t.jsx)(R,{id:"sendCurrency",name:"sendCurrency",value:x.sendCurrency,onChange:I,label:"Send Currency",placeholder:"Select currency",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"You send"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",name:"sendAmount",value:x.sendAmount,onChange:I,className:"w-full px-4 py-3 pr-20 text-lg font-semibold border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:x.sendCurrency||"Currency"})})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Fee: ",x.sendCurrency||"Currency"," ",x.sendAmount?(0*parseFloat(x.sendAmount)).toFixed(2):"0.00"]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-gray-50",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Send to"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(B,{id:"recipientCountry",name:"recipientCountry",value:x.recipientCountry,onChange:I,label:"Country",placeholder:"Select recipient country",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,t.jsx)(R,{id:"receiveCurrency",name:"receiveCurrency",value:x.receiveCurrency,onChange:I,label:"Receive Currency",placeholder:"Select receive currency",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"They receive"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",name:"receiveAmount",value:x.receiveAmount,readOnly:!0,className:"w-full px-4 py-3 pr-16 text-lg font-semibold text-gray-900 bg-white border border-gray-300 rounded-lg",placeholder:"Amount calculated automatically"}),(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:x.receiveCurrency||"Currency"})})]}),(0,t.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:A?(0,t.jsx)("span",{children:"Loading exchange rate..."}):(0,t.jsxs)("span",{children:["Exchange rate: 1"," ",x.sendCurrency||"Currency"," ="," ",M.toFixed(4)," ",x.receiveCurrency||"Currency"]})})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"How would they like to receive the money?"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[{id:"cash_pickup",title:"Cash pickup",description:"Ready in minutes",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),recommended:!0},{id:"bank_transfer",title:"Bank transfer",description:"Ready in 1-2 business days",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),recommended:!1},{id:"ewallet",title:"eWallet",description:"Ready in minutes",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),recommended:!1}].map(e=>(0,t.jsxs)("div",{onClick:()=>h(a=>(0,i._)((0,s._)({},a),{deliveryMethod:e.id})),className:"relative p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(x.deliveryMethod===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e.recommended&&(0,t.jsx)("span",{className:"absolute px-2 py-1 text-xs font-medium text-blue-600 bg-blue-100 rounded top-2 right-2",children:"Recommended"}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-lg",children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),x.deliveryMethod===e.id&&(0,t.jsx)("div",{className:"absolute top-2 left-2",children:(0,t.jsx)("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-500 rounded-full",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"How would you like to pay?"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[{id:"fpx",title:"FPX Online Banking",description:"Pay directly from your bank account",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),fee:"No additional fee"},{id:"debit_card",title:"Debit Card",description:"Pay with your debit card",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),fee:"Additional fee may apply"},{id:"crypto_wallet",title:"Crypto Wallet",description:"Pay with cryptocurrency",icon:(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),fee:"Blockchain network fee"}].map(e=>(0,t.jsx)("div",{onClick:()=>h(a=>(0,i._)((0,s._)({},a),{paymentMethod:e.id})),className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(x.paymentMethod===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-lg",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:e.fee})]}),x.paymentMethod===e.id&&(0,t.jsx)("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-500 rounded-full",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},e.id))})]}),(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-gray-50",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Recipient Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Recipient Name *"}),(0,t.jsx)("input",{type:"text",name:"recipientName",value:x.recipientName,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter recipient's full name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Recipient Email *"}),(0,t.jsx)("input",{type:"email",name:"recipientEmail",value:x.recipientEmail,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"recipient@example.com",required:!0})]}),"bank_transfer"===x.deliveryMethod&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Bank Name *"}),(0,t.jsxs)("select",{name:"bankName",value:x.bankName||"",onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select bank"}),(0,t.jsx)("option",{value:"Sonali Bank",children:"Sonali Bank"}),(0,t.jsx)("option",{value:"Dutch Bangla Bank",children:"Dutch Bangla Bank"}),(0,t.jsx)("option",{value:"BRAC Bank",children:"BRAC Bank"}),(0,t.jsx)("option",{value:"Eastern Bank",children:"Eastern Bank"}),(0,t.jsx)("option",{value:"City Bank",children:"City Bank"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Account Number *"}),(0,t.jsx)("input",{type:"text",name:"accountNumber",value:x.accountNumber||"",onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter account number",required:!0})]})]}),"ewallet"===x.deliveryMethod&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Mobile Number *"}),(0,t.jsx)("input",{type:"tel",name:"mobileNumber",value:x.mobileNumber||"",onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+880 1X XXXX XXXX",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-blue-50",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Transaction Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Send amount:"}),(0,t.jsxs)("span",{className:"font-medium",children:["MYR ",x.sendAmount||"0.00"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Fee:"}),(0,t.jsxs)("span",{className:"font-medium",children:["MYR"," ",x.sendAmount?(0*parseFloat(x.sendAmount)).toFixed(2):"0.00"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Total to pay:"}),(0,t.jsxs)("span",{className:"font-medium",children:["MYR"," ",x.sendAmount?(+parseFloat(x.sendAmount)).toFixed(2):"0.00"]})]}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Recipient gets:"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["BDT ",x.receiveAmount||"0.00"]})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:L,disabled:!x.recipientName||!x.recipientEmail||!x.sendAmount||!x.deliveryMethod||!x.paymentMethod||0>=parseFloat(x.sendAmount),className:"px-8 py-3 text-white transition-all bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Continue"})})]}),2===p&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-gray-50",children:[(0,t.jsx)("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Review Your Transfer"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"mb-2 font-medium text-gray-900",children:"Recipient Details"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Name: ",x.recipientName]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Email: ",x.recipientEmail]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Country: Bangladesh"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Delivery: ",null==(e=x.deliveryMethod)?void 0:e.replace("_"," ")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"mb-2 font-medium text-gray-900",children:"Transfer Details"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Send amount: ",x.sendAmount," MYR"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Receive amount: ",x.receiveAmount," BDT"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Exchange rate: 1 MYR = ",M," BDT"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Payment method:"," ",null==(a=x.paymentMethod)?void 0:a.replace("_"," ")]})]})]}),(0,t.jsxs)("div",{className:"pt-4 mt-6 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Send amount:"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[x.sendAmount||"0.00"," MYR"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Transfer fee:"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[x.sendAmount?(0*parseFloat(x.sendAmount)).toFixed(2):"0.00"," ","MYR"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Total to pay:"}),(0,t.jsxs)("span",{className:"text-lg font-bold",children:[x.sendAmount?(+parseFloat(x.sendAmount)).toFixed(2):"0.00"," ","MYR"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Recipient receives:"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-green-600",children:[x.receiveAmount||"0.00"," BDT"]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:F,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Back"}),(0,t.jsx)("button",{onClick:L,className:"px-6 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Confirm Transfer"})]})]}),3===p&&(0,t.jsxs)("div",{className:"space-y-6 text-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-green-100 rounded-full",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Ready to Send"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Please review your transfer details one more time before confirming."})]}),(0,t.jsx)("div",{className:"p-4 rounded-lg bg-blue-50",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"Your transfer is secured by blockchain technology and will be processed within 24 hours."})]})})," ",(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:F,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Back"}),(0,t.jsx)("button",{onClick:H,disabled:b,className:"px-6 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50",children:b?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 mr-2 border-b-2 border-white rounded-full animate-spin"}),"Processing..."]}):"Send Money"})]})]})]})]})]}),w&&(0,t.jsx)(k,{isOpen:j,onClose:()=>{f(!1),C(null),h({recipientCountry:"",sendCountry:"",sendAmount:"",sendCurrency:"",receiveAmount:"",receiveCurrency:"",deliveryMethod:"",paymentMethod:"",recipientName:"",recipientEmail:"",purpose:"",promoCode:"",mobileNumber:"",bankName:"",accountNumber:""}),g(1)},receiptData:w})]})]})}}},e=>{e.O(0,[659,411,230,514,106,636,593,792],()=>e(e.s=4722)),_N_E=e.O()}]);